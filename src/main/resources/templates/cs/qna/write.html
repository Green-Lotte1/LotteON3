<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8" />
    <title>롯데ON::고객센터</title>
    <link rel="shortcut icon" type="image/x-icon" href="../../../static/images/favicon.ico" />
    <link rel="stylesheet" th:href="@{/cs/css/style.css}"/>
</head>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(function(){
    const jsonData = {};

        // 서버로부터 cate1 데이터 불러오기
        $.ajax({
            url: '/cs/cate1',
            type: 'GET',
            data: jsonData,
            success: function(cate1Data) {
                console.log(cate1Data);

                // 문의유형 select 요소 찾기
                const typeSelect = $('select[name="type1"]');

                // cate1 데이터를 반복하여 1차 선택 옵션 추가
                cate1Data.forEach(function(cate1) {
                    typeSelect.append($('<option>', {
                        value: cate1.cate1,
                        text: cate1.c1Name
                    }));
                });
            }
        });

        $('#category1').change(function() {
            const selectedCategory1 = $(this).val();
            console.log(selectedCategory1)

            // 1차 카테고리 선택 값(selectedCategory1)을 서버로 전송
            const jsonData = {
                cate1: selectedCategory1
            };
            $.ajax({
                url: '/cs/cate2',
                type: 'GET',
                data: jsonData,
                success: function(cate2list){
                    console.log(cate2list);

                // 문의유형2 select 요소 찾기
                const typeSelect2 = $('select[name="category2"]');
                typeSelect2.empty();

                // cate2 데이터를 반복하여 2차 선택 옵션 추가
                cate2list.forEach(function(cate2) {
                    typeSelect2.append($('<option>', {
                        value: cate2.cate2,
                        text: cate2.c2Name
                        }));
                    });
                }
            });
        });
    }); //function

</script>
<body>
<div id="wrapper">
    <header>
        <div class="top">
            <div>
                <p>
                    <a href="./member/login.html">로그인</a>
                    <a href="#">회원가입</a>
                    <a href="#">마이페이지</a>
                    <a href="#"><i class="fa fa-shopping-cart" aria-hidden="true"></i>&nbsp;장바구니</a>
                </p>
            </div>
        </div>
        <div class="logo">
            <div>
                <a href="#"><img src="../../../static/images/header_logo.png" alt="로고" />고객센터</a>
            </div>
        </div>
    </header>

    <section id="cs">
        <div class="qna">
            <nav>
                <div>
                    <p>홈<span>></span>문의하기</p>
                </div>
            </nav>
            <section class="write">
                <aside>
                    <h2>문의하기</h2>
                    <ul>
                        <li class="on"><a href="#">회원</a></li>
                        <li><a href="#">쿠폰/이벤트</a></li>
                        <li><a href="#">주문/결제</a></li>
                        <li><a href="#">배송</a></li>
                        <li><a href="#">취소/반품/교환</a></li>
                        <li><a href="#">여행/숙박/항공</a></li>
                        <li><a href="#">안전거래</a></li>
                    </ul>
                </aside>
                <article>
                    <form action="#">
                        <table>
                            <tr>
                                <td>문의유형</td>
                                <td>
                                    <select name="type1" id="category1">
                                        <option selected >1차 선택</option>
                                    </select>
                                    <select name="category2" id="category2">
                                        <option selected>2차 선택</option>

                                    </select>
                                </td>

                            </tr>
                            <tr>
                                <td>문의제목</td>
                                <td>
                                    <input type="text" name="title" placeholder="제목을 입력하세요."/>
                                </td>
                            </tr>
                            <tr>
                                <td>문의내용</td>
                                <td>
                                    <textarea name="content" placeholder="내용을 입력하세요."></textarea>
                                </td>
                            </tr>
                        </table>
                        <div>
                            <a href="./list.html" class="btnList">취소하기</a>
                            <input type="submit" class="btnSubmit" value="등록하기"/>
                        </div>
                    </form>
                </article>
            </section>
        </div>
    </section>

    <footer>
        <ul>
            <li><a href="#">회사소개</a></li>
            <li><a href="#">서비스이용약관</a></li>
            <li><a href="#">개인정보처리방침</a></li>
            <li><a href="#">전자금융거래약관</a></li>
        </ul>
        <div>
            <p><img src="../../../static/images/footer_logo.png" alt="로고" /></p>
            <p>
                <strong>(주)롯데ON</strong><br />
                서울특별시 송파구 올림픽로 300 롯데월드타워 26층 (역삼동 강남파이낸스센터)<br />
                대표이사 : 김사무엘상현, 정준호, 강성현<br />
                사업자등록번호 : 529-85-00774(롯데쇼핑(주) e커머스사업부)<br />
                통신판매업 신고 : 서울송파 제0158호<br>
                호스팅 서비스사업자 : 롯데쇼핑(주) e커머스사업부
            </p>
            <p>
                <strong>고객센터</strong><br />
                Tel : 1899-7000(유료) (평일 09:00~18:00)<br />
                Fax : 051-123-4567 | E-mail : lotteon@lotte.net<br />
            </p>
        </div>
    </footer>
</div>
</body>
</html>

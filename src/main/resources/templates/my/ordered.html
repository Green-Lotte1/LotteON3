<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org"
       xmlns:layout="http://www.thymeleaf.org"
       layout:decorate="/my/_my_layout">
<!-- order -->
<section layout:fragment="content">
    <a href="#"><img th:src="@{/images/my/my_banner2.png}" alt="패션, 타운 하나로 끝" class="banner"></a>
    <article>
        <h3>전체주문내역</h3>

        <div class="byDate">
            <span class="tit">기간별조회</span>
            <ul class="date_3ea">
                <li><a href="#"><em>1</em>주일</a></li>
                <li><a href="#"><em>15</em>일</a></li>
                <li><a href="#" class="on"><em>1</em>개월</a></li>
            </ul>
            <ul class="date_5ea">
                <li><a href="#"><em>11</em>월</a></li>
                <li><a href="#"><em>10</em>월</a></li>
                <li><a href="#"><em>9</em>월</a></li>
                <li><a href="#"><em>8</em>월</a></li>
                <li><a href="#"><em>7</em>월</a></li>
            </ul>
            <p>
                <input type="date" name="begin"><span>~</span><input type="date" name="end">
            </p>
            <button class="btnConfirm">조회하기</button>
        </div>

        <table border="0">
            <tr>
                <th>날짜</th>
                <th>상품정보</th>
                <th>상태</th>
                <th>확인/신청</th>
            </tr>
            <th:block th:each="myOrder : ${pageResponseDTO.myOrdersDTOList}">
                <tr  class="orderInfo">
                    <td  colspan="4" class="orderNo">
                        <a href="#">주문번호 [[${myOrder.orderDTO.ordNo}]]</a>
                    </td>
                </tr>
                <tr th:each="item : ${myOrder.itemList}" class="orderItem">
                    <td class="date">
                        [[${myOrder.orderDTO.ordDate}]]
                    </td>
                    <td>
                        <a th:href="@{/product/view(prodNo=${item.prodNo})}" class="thumb"><img th:src="@{'/thumbs/' + ${item.thumb1}}" alt=""></a>
                        <ul class="info">
                            <li class="company">[[${item.company}]]</li>
                            <li class="prodName"><a th:href="@{/product/view(prodNo=${item.prodNo})}">[[${item.prodName}]]</a></li>
                            <li>수량 : <span class="prodCount">[[${item.count}]]</span>개 <!--/ 주문번호 : <span class="ordNo">[[${item.ordNo}]]</span></li>-->
                            <li class="prodPrice">총 [[${#numbers.formatInteger(item.total,0,'COMMA')}]]</li>
                            <li class="prodPriceIndiv" th:if="${item.count ge 1}">(개당 [[${#numbers.formatInteger(item.price,0,'COMMA')}]]원)</li>
                        </ul>
                    </td>
                    <td class="status">
                        <th:block th:switch="${myOrder.orderDTO.ordComplete}">
                            <span th:case="1">결제완료</span>
                            <span th:case="2">결제중</span>
                            <span th:case="3">주문취소</span>
                            <span th:case="4">배송완료</span>
                            <span th:case="5">수취확인</span>
                        </th:block>
                    </td>
                    <td class="confirm">
                        <a href="#" class="receive">수취확인</a>
                        <a href="#" class="review">상품평</a>
                        <a href="#" class="refund">반품신청</a>
                        <a href="#" class="exchange">교환신청</a>
                    </td>
                </tr>
            </th:block>
        </table>

        <p class="page">
            <th:block th:if="${pageResponseDTO.prev}">
                <a class="prev" th:href="@{/my/ordered(pg=${pageResponseDTO.start - 1})}">이전</a>
            </th:block>
            <th:block th:unless="${pageResponseDTO.prev}">
                <a class="prev" href="#">이전</a>
            </th:block>

            <th:block  th:each="num: ${#numbers.sequence(pageResponseDTO.start, pageResponseDTO.end)}">
                <a th:href="@{/my/ordered(pg=${num} )}" th:classappend="${num == pageResponseDTO.pg?'on':''}">[[${num}]]</a>
            </th:block>

            <th:block  th:if="${pageResponseDTO.next}">
                <a class="next" th:href="@{/my/ordered(pg=${pageResponseDTO.end + 1})}">다음</a>
            </th:block>
            <th:block  th:unless="${pageResponseDTO.next}">
                <a class="next" href="#">다음&nbsp;></a>
            </th:block>

    </article>
</section>
<!-- order END -->
</html>